import{a as w,S,i as p}from"./assets/vendor-550cebad.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}})();const v="https://pixabay.com/api/",P="43014445-2d3e2fe82a6f953d204684055";async function h(e,o){try{return(await w.get(v,{params:{key:P,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,perPage:15,page:o}})).data}catch(s){throw console.error("Error:",s),s}}const q=new S(".gallery a",{captionDelay:250,captionsData:"alt"});function E(e){const{largeImageURL:o,webformatURL:s,tags:n,likes:t,views:r,comments:a,downloads:b}=e;return`<li class="photos-list-item">
  <a class="photos-list-link" href="${o}">
  <img loading="lazy" class="photo" src="${s}" alt="${n}"/>
  </a>
  <ul class="photo-information-container">
  <li class="item-photo-information-container"><p><span class="accent">Likes</span></br>${t}</p></li>
  <li class="item-photo-information-container"><p><span class="accent">Views</span></br>${r}</p></li>
  <li class="item-photo-information-container"><p><span class="accent">Comments</span></br>${a}</p></li>
  <li class="item-photo-information-container"><p><span class="accent">Downloads</span></br>${b}</p></li>
  </ul>
  </li>`}function C(e){return e.length===0&&p.error({message:"Sorry, there are no images matching your search query. Please try again!",theme:"dark",progressBarColor:"#FFFFFF",color:"#EF4040",position:"topRight"}),e.map(E).join("")}function f(e){const o=C(e);u.insertAdjacentHTML("beforeend",o),q.refresh()}const M=document.querySelector(".form"),u=document.querySelector(".gallery"),m=document.querySelector(".btn-footer-form"),g=document.querySelector(".loader");function l(){g.classList.remove("is-hidden")}function d(){g.classList.add("is-hidden")}function R(){m.classList.remove("is-hidden")}function y(){m.classList.add("is-hidden")}let c,i=1,L=0;const $=15;M.addEventListener("submit",B);async function B(e){if(e.preventDefault(),y(),l(),c=e.target.elements.query.value.trim(),u.innerHTML="",i=1,!c){d(),p.error({message:"Please complete the field!",theme:"dark",progressBarColor:"#FFFFFF",color:"#EF4040",position:"topRight"});return}try{l();const o=await h(c,i);L=Math.ceil(o.totalHits/$),f(o.hits)}catch(o){console.log(o)}F(),d(),e.target.reset()}m.addEventListener("click",O);async function O(){i+=1,l();try{const e=await h(c,i);f(e.hits)}catch(e){console.log(e)}k(),F(),d()}function F(){i>=L?(y(),p.error({message:"We're sorry, but you've reached the end of search results.",theme:"dark",progressBarColor:"#FFFFFF",color:"#EF4040",position:"topRight"})):R()}function k(){const e=u.firstChild.getBoundingClientRect().height;scrollBy({top:e*3,behavior:"smooth"})}
//# sourceMappingURL=commonHelpers.js.map
