import{a as b,S as w,i as l}from"./assets/vendor-550cebad.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}})();const S="https://pixabay.com/api/",v="43014445-2d3e2fe82a6f953d204684055";async function u(e,o){try{return(await b.get(S,{params:{key:v,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:o}})).data}catch(s){throw console.error("Error:",s),s}}const q=new w(".gallery a",{captionDelay:250,captionsData:"alt"});function E(e){const{largeImageURL:o,webformatURL:s,tags:n,likes:t,views:r,comments:a,downloads:F}=e;return`<li class="photos-list-item">
  <a class="photos-list-link" href="${o}">
  <img loading="lazy" class="photo" src="${s}" alt="${n}"/>
  </a>
  <ul class="photo-information-container">
  <li class="item-photo-information-container"><p><span class="accent">Likes</span></br>${t}</p></li>
  <li class="item-photo-information-container"><p><span class="accent">Views</span></br>${r}</p></li>
  <li class="item-photo-information-container"><p><span class="accent">Comments</span></br>${a}</p></li>
  <li class="item-photo-information-container"><p><span class="accent">Downloads</span></br>${F}</p></li>
  </ul>
  </li>`}function P(e){return e.length===0&&l.error({message:"Sorry, there are no images matching your search query. Please try again!",theme:"dark",progressBarColor:"#FFFFFF",color:"#EF4040",position:"topRight"}),e.map(E).join("")}function m(e){const o=P(e);d.insertAdjacentHTML("beforeend",o),q.refresh()}const C=document.querySelector(".form"),d=document.querySelector(".gallery"),p=document.querySelector(".btn-footer-form"),h=document.querySelector(".loader");function f(){h.classList.remove("is-hidden")}function g(){h.classList.add("is-hidden")}function M(){p.classList.remove("is-hidden")}function R(){p.classList.add("is-hidden")}let c,i=1,y=0;const $=15;C.addEventListener("submit",B);async function B(e){if(e.preventDefault(),c=e.target.elements.query.value.trim(),d.innerHTML="",i=1,!c){l.error({message:"Please complete the field!",theme:"dark",progressBarColor:"#FFFFFF",color:"#EF4040",position:"topRight"});return}try{f();const o=await u(c,i);y=Math.ceil(o.totalHits/$),m(o.hits)}catch(o){console.log(o)}g(),L(),e.target.reset()}p.addEventListener("click",O);async function O(){i+=1,f();try{const e=await u(c,i);m(e.hits)}catch(e){console.log(e)}k(),L(),g()}function L(){i>=y?(R(),l.error({message:"We're sorry, but you've reached the end of search results.",theme:"dark",progressBarColor:"#FFFFFF",color:"#EF4040",position:"topRight"})):M()}function k(){const e=d.firstChild.getBoundingClientRect().height;scrollBy({top:e*3,behavior:"smooth"})}
//# sourceMappingURL=commonHelpers.js.map
